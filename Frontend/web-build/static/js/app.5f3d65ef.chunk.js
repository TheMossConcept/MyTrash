(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{234:function(e,t,n){"use strict";n.d(t,"a",(function(){return ge}));n(66);var r=n(235),a=n(0),o=n.n(a),c=n(341),i=n(4),l=n.n(i),s=n(17),u=n.n(s),m=n(3),f=n.n(m),p=n(336),d=n(340),g=n(154);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(197),E=n(195),v=n(79),S=n(338),w=n(5),x=n(11),k=n(77),I=n(105),O=n(117);function j(e){var t=e.handleAuthorization,n=Object(I.d)("https://login.microsoftonline.com/65fa44cb-fe68-4b06-ad9f-d4343bd7589f/v2.0"),r=Object(I.c)({native:"houe-plastic-recycling://"}),a=new I.a({clientId:"a67a4317-87b9-403b-8db9-e0227117bc8a",scopes:["openid","profile","email","offline_access"],redirectUri:r});return o.a.createElement(O.a,{title:"Login",onPress:function(){var e;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=9;break}return o.next=3,f.a.awrap(a.getAuthRequestConfigAsync());case 3:return o.next=5,f.a.awrap(a.promptAsync(n));case 5:e=o.sent,console.log(e.type),console.log(a.codeVerifier),e&&"success"===e.type&&a.codeVerifier&&n&&Object(I.b)({code:e.params.code,scopes:["openid","profile","email","offline_access"],clientId:"a67a4317-87b9-403b-8db9-e0227117bc8a",redirectUri:r,extraParams:{code_verifier:a.codeVerifier}},n).then((function(e){console.log("Token response:"),console.log(e),t(e)})).catch((function(e){console.log("ERROR: "),console.log(e)}));case 9:case"end":return o.stop()}}),null,null,null,Promise)}})}k.b();var C=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}}),T=function(e){var t=e.navigation;return o.a.createElement(x.a,{style:C.container},o.a.createElement(j,{handleAuthorization:function(e){sessionStorage.setItem("accessToken",e.accessToken),t.navigate("Root")}}))},P=n(38),R=n(70);function N(e){var t=e.navigation;return a.createElement(x.a,{style:B.container},a.createElement(P.a,{style:B.title},"This screen doesn't exist."),a.createElement(R.a,{onPress:function(){return t.replace("Root")},style:B.link},a.createElement(P.a,{style:B.linkText},"Go to home screen!")))}var B=w.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),V=n(337),z={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},A=n(18),D=n.n(A),L=n(15),W=n.n(L);function U(e,t){var n=e.light;return n||z.light[t]}function M(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=W()(e,["style","lightColor","darkColor"]),c=U({light:n,dark:r},"text");return a.createElement(P.a,D()({style:[{color:c},t]},o))}function F(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=W()(e,["style","lightColor","darkColor"]),c=U({light:n,dark:r},"background");return a.createElement(x.a,D()({style:[{backgroundColor:c},t]},o))}var Q=n(227),H=n.n(Q),J=n(152),K=n(40),Y=n(339);function _(){var e=H.a.create({baseURL:"https://houe-plastic-recycling-windows.azurewebsites.net/api",headers:{"access-token":sessionStorage.getItem("accessToken")}}),t=a.useState(!1),n=u()(t,2),r=n[0],o=n[1],c=a.useState(!1),i=u()(c,2),l=i[0],s=i[1],m=a.useState(!1),f=u()(m,2),p=f[0],d=f[1],g=function(){d(!1),x("")},b=a.useState([]),h=u()(b,2),y=h[0],E=h[1];a.useEffect((function(){o(!0),e.get("/UserAppRoles",{params:{code:"oYx2YQIRFLv7fVYRd4aV9Rj/EyzQGwTepONvms8DBLJPquUIh9sDAw=="}}).then((function(e){E(e.data)})).finally((function(){return o(!1)}))}),[]);var v=a.useState(""),S=u()(v,2),w=S[0],x=S[1];return a.createElement(F,{style:q.container},l?a.createElement(J.a,null):a.createElement(K.a,{value:w,onChangeText:x,style:q.textInput}),a.createElement(F,{style:q.buttonContainer},r?a.createElement(J.a,null):y.map((function(t){return a.createElement(F,{key:t.id,style:q.button},a.createElement(O.a,{title:t.displayName,onPress:function(){e.post("/InviteExternalUser",{email:w,appRoleId:t.id},{params:{code:"aWOynA5/NVsQKHbFKrMS5brpi5HtVZM3oaw4BEiIWDaHxAb0OdBi2Q=="}}).then((function(){return d(!0)})).finally((function(){return s(!1)})),x(""),s(!0)},disabled:""===w}))}))),a.createElement(Y.a,{visible:p,onDismiss:g,action:{label:"OK",onPress:g}},"Brugeren er inviteret til MyTrash"))}var q=w.a.create({textInput:{height:30,marginBottom:10,width:"80%",textAlign:"center",backgroundColor:"lightgrey"},container:{justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},buttonContainer:{flexDirection:"row"},button:{margin:5}});function G(){return a.createElement(F,{style:Z.container},a.createElement(_,null))}var Z=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}});function X(){return a.createElement(F,{style:$.container},a.createElement(M,{style:$.title},"Not implemented yet"))}var $=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ee(){return a.createElement(F,{style:te.container},a.createElement(M,{style:te.title},"Not implemented yet"))}var te=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ne(){return a.createElement(F,{style:re.container},a.createElement(M,{style:re.title},"Not implemented yet"))}var re=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ae(){return a.createElement(F,{style:oe.container},a.createElement(M,{style:oe.title},"Not implemented yet"))}var oe=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ce(){return a.createElement(F,{style:ie.container},a.createElement(M,{style:ie.title},"Not implemented yet"))}var ie=w.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),le=Object(V.a)(),se=function(){return o.a.createElement(le.Navigator,{initialRouteName:"Administration",tabBarOptions:{activeTintColor:z.light.tint}},o.a.createElement(le.Screen,{name:"Administration",component:G,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Indsamlingsadministration",component:X,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Indsamling",component:ee,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Logistik",component:ne,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Modtagelse",component:ce,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Produktion",component:ae,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}))};function ue(e){var t=e.name,n=e.color;return o.a.createElement(p.a,{size:30,style:{marginBottom:-3},name:t,color:n})}var me={prefixes:[n(131).a("/")],config:{screens:{Login:"login",Root:{screens:{TabOne:{screens:{TabOneScreen:"one"}},TabTwo:{screens:{TabTwoScreen:"two"}}}},NotFound:"*"}}};function fe(e){var t=e.colorScheme;return a.createElement(y.a,{linking:me,theme:"dark"===t?E.a:v.a},a.createElement(de,null))}var pe=Object(S.a)();function de(){return a.createElement(pe.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"Login"},a.createElement(pe.Screen,{name:"Login",component:T}),a.createElement(pe.Screen,{name:"Root",component:se}),a.createElement(pe.Screen,{name:"NotFound",component:N,options:{title:"Oops!"}}))}function ge(){return function(){var e=a.useState(!1),t=u()(e,2),r=t[0],o=t[1];return a.useEffect((function(){f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.b(),e.next=4,f.a.awrap(d.b(h(h({},p.a.font),{},{"space-mono":n(273)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),g.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}()?o.a.createElement(c.b,null,o.a.createElement(fe,{colorScheme:"light"}),o.a.createElement(r.a,null)):null}},247:function(e,t,n){e.exports=n(328)},273:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[247,1,2]]]);
//# sourceMappingURL=app.5f3d65ef.chunk.js.map