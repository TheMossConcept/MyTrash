(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{234:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));n(66);var r=n(235),o=n(0),a=n.n(o),c=n(341),i=n(4),l=n.n(i),s=n(17),u=n.n(s),m=n(3),f=n.n(m),p=n(336),g=n(340),d=n(154);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(197),E=n(195),v=n(79),S=n(338),k=n(5),x=n(11),I=n(77),O=n(105),w=n(117);function j(e){var t=e.handleAuthorization,n=Object(O.d)("https://login.microsoftonline.com/65fa44cb-fe68-4b06-ad9f-d4343bd7589f/v2.0"),r=Object(O.c)({native:"houe-plastic-recycling://Administration",path:"Administration"}),o=new O.a({clientId:"a67a4317-87b9-403b-8db9-e0227117bc8a",scopes:["openid","profile","email","offline_access"],redirectUri:r});return a.a.createElement(w.a,{title:"Login",onPress:function(){var e;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=9;break}return a.next=3,f.a.awrap(o.getAuthRequestConfigAsync());case 3:return a.next=5,f.a.awrap(o.promptAsync(n));case 5:e=a.sent,console.log(e.type),console.log(o.codeVerifier),e&&"success"===e.type&&o.codeVerifier&&n&&Object(O.b)({code:e.params.code,scopes:["openid","profile","email","offline_access"],clientId:"a67a4317-87b9-403b-8db9-e0227117bc8a",redirectUri:r,extraParams:{code_verifier:o.codeVerifier}},n).then((function(e){console.log("Token response:"),console.log(e),t(e)})).catch((function(e){console.log("ERROR: "),console.log(e)}));case 9:case"end":return a.stop()}}),null,null,null,Promise)}})}I.b();var C=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}}),T=function(e){var t=e.navigation;return a.a.createElement(x.a,{style:C.container},a.a.createElement(j,{handleAuthorization:function(e){sessionStorage.setItem("accessToken",e.accessToken),t.navigate("Root")}}))},P=n(38),R=n(70);function N(e){var t=e.navigation;return o.createElement(x.a,{style:A.container},o.createElement(P.a,{style:A.title},"This screen doesn't exist."),o.createElement(R.a,{onPress:function(){return t.replace("Root")},style:A.link},o.createElement(P.a,{style:A.linkText},"Go to home screen!")))}var A=k.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),z=n(337),B={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},V=n(18),D=n.n(V),L=n(15),W=n.n(L);function U(e,t){var n=e.light;return n||B.light[t]}function M(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=W()(e,["style","lightColor","darkColor"]),c=U({light:n,dark:r},"text");return o.createElement(P.a,D()({style:[{color:c},t]},a))}function _(e){var t=e.style,n=e.lightColor,r=e.darkColor,a=W()(e,["style","lightColor","darkColor"]),c=U({light:n,dark:r},"background");return o.createElement(x.a,D()({style:[{backgroundColor:c},t]},a))}var F=n(227),J=n.n(F),q=n(152),G=n(40),K=n(339);function H(){var e=J.a.create({baseURL:"http://localhost:7071/api",headers:{"access-token":sessionStorage.getItem("accessToken")}}),t=o.useState(!1),n=u()(t,2),r=n[0],a=n[1],c=o.useState(!1),i=u()(c,2),l=i[0],s=i[1],m=o.useState(!1),f=u()(m,2),p=f[0],g=f[1],d=function(){g(!1),x("")},b=o.useState([]),h=u()(b,2),y=h[0],E=h[1];o.useEffect((function(){a(!0),e.get("/UserAppRoles").then((function(e){E(e.data)})).finally((function(){return a(!1)}))}),[]);var v=o.useState(""),S=u()(v,2),k=S[0],x=S[1];return o.createElement(_,{style:Q.container},l?o.createElement(q.a,null):o.createElement(G.a,{value:k,onChangeText:x,style:Q.textInput}),o.createElement(_,{style:Q.buttonContainer},r?o.createElement(q.a,null):y.map((function(t){return o.createElement(_,{key:t.id,style:Q.button},o.createElement(w.a,{title:t.displayName,onPress:function(){e.post("/InviteExternalUser",{email:k,appRoleId:t.id}).then((function(){return g(!0)})).finally((function(){return s(!1)})),x(""),s(!0)},disabled:""===k}))}))),o.createElement(K.a,{visible:p,onDismiss:d,action:{label:"OK",onPress:d}},"Brugeren er inviteret til MyTrash"))}var Q=k.a.create({textInput:{height:30,marginBottom:10,width:"80%",textAlign:"center",backgroundColor:"lightgrey"},container:{justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},buttonContainer:{flexDirection:"row"},button:{margin:5}});function X(){return o.createElement(_,{style:Y.container},o.createElement(H,null))}var Y=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}});function Z(){return o.createElement(_,{style:$.container},o.createElement(M,{style:$.title},"Not implemented yet"))}var $=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ee(){return o.createElement(_,{style:te.container},o.createElement(M,{style:te.title},"Not implemented yet"))}var te=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ne(){return o.createElement(_,{style:re.container},o.createElement(M,{style:re.title},"Not implemented yet"))}var re=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function oe(){return o.createElement(_,{style:ae.container},o.createElement(M,{style:ae.title},"Not implemented yet"))}var ae=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ce(){return o.createElement(_,{style:ie.container},o.createElement(M,{style:ie.title},"Not implemented yet"))}var ie=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),le=Object(z.a)(),se=function(){return a.a.createElement(le.Navigator,{initialRouteName:"Administration",tabBarOptions:{activeTintColor:B.light.tint}},a.a.createElement(le.Screen,{name:"Administration",component:X,options:{tabBarIcon:function(e){var t=e.color;return a.a.createElement(ue,{name:"ios-code",color:t})}}}),a.a.createElement(le.Screen,{name:"Indsamlingsadministration",component:Z,options:{tabBarIcon:function(e){var t=e.color;return a.a.createElement(ue,{name:"ios-code",color:t})}}}),a.a.createElement(le.Screen,{name:"Indsamling",component:ee,options:{tabBarIcon:function(e){var t=e.color;return a.a.createElement(ue,{name:"ios-code",color:t})}}}),a.a.createElement(le.Screen,{name:"Logistik",component:ne,options:{tabBarIcon:function(e){var t=e.color;return a.a.createElement(ue,{name:"ios-code",color:t})}}}),a.a.createElement(le.Screen,{name:"Modtagelse",component:ce,options:{tabBarIcon:function(e){var t=e.color;return a.a.createElement(ue,{name:"ios-code",color:t})}}}),a.a.createElement(le.Screen,{name:"Produktion",component:oe,options:{tabBarIcon:function(e){var t=e.color;return a.a.createElement(ue,{name:"ios-code",color:t})}}}))};function ue(e){var t=e.name,n=e.color;return a.a.createElement(p.a,{size:30,style:{marginBottom:-3},name:t,color:n})}var me={prefixes:[n(131).a("/")],config:{screens:{Login:"login",Root:{screens:{TabOne:{screens:{TabOneScreen:"one"}},TabTwo:{screens:{TabTwoScreen:"two"}}}},NotFound:"*"}}};function fe(e){var t=e.colorScheme;return o.createElement(y.a,{linking:me,theme:"dark"===t?E.a:v.a},o.createElement(ge,null))}var pe=Object(S.a)();function ge(){return o.createElement(pe.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"Login"},o.createElement(pe.Screen,{name:"Login",component:T}),o.createElement(pe.Screen,{name:"Root",component:se}),o.createElement(pe.Screen,{name:"NotFound",component:N,options:{title:"Oops!"}}))}function de(){return function(){var e=o.useState(!1),t=u()(e,2),r=t[0],a=t[1];return o.useEffect((function(){f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.b(),e.next=4,f.a.awrap(g.b(h(h({},p.a.font),{},{"space-mono":n(273)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,a(!0),d.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}()?a.a.createElement(c.b,null,a.a.createElement(fe,{colorScheme:"light"}),a.a.createElement(r.a,null)):null}},247:function(e,t,n){e.exports=n(328)},273:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[247,1,2]]]);
//# sourceMappingURL=app.91de7549.chunk.js.map