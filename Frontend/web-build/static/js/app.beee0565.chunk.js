(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{234:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));n(66);var r=n(235),a=n(0),o=n.n(a),c=n(341),i=n(4),l=n.n(i),s=n(17),u=n.n(s),f=n(3),m=n.n(f),p=n(336),g=n(340),d=n(154);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(197),E=n(195),v=n(79),S=n(338),k=n(5),x=n(11),I=n(77),O=n(105),w=n(117);function j(e){var t=e.handleAuthorization,n=Object(O.d)("https://login.microsoftonline.com/65fa44cb-fe68-4b06-ad9f-d4343bd7589f/v2.0"),r=Object(O.c)({native:"houe-plastic-recycling://"}),a=new O.a({clientId:"a67a4317-87b9-403b-8db9-e0227117bc8a",scopes:["openid","profile","email","offline_access"],redirectUri:r});return o.a.createElement(w.a,{title:"Login",onPress:function(){var e;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=9;break}return o.next=3,m.a.awrap(a.getAuthRequestConfigAsync());case 3:return o.next=5,m.a.awrap(a.promptAsync(n));case 5:e=o.sent,console.log(e.type),console.log(a.codeVerifier),e&&"success"===e.type&&a.codeVerifier&&n&&Object(O.b)({code:e.params.code,scopes:["openid","profile","email","offline_access"],clientId:"a67a4317-87b9-403b-8db9-e0227117bc8a",redirectUri:r,extraParams:{code_verifier:a.codeVerifier}},n).then((function(e){console.log("Token response:"),console.log(e),t(e)})).catch((function(e){console.log("ERROR: "),console.log(e)}));case 9:case"end":return o.stop()}}),null,null,null,Promise)}})}I.b();var C=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}}),T=function(e){var t=e.navigation;return o.a.createElement(x.a,{style:C.container},o.a.createElement(j,{handleAuthorization:function(e){sessionStorage.setItem("accessToken",e.accessToken),t.navigate("Root")}}))},P=n(38),R=n(70);function N(e){var t=e.navigation;return a.createElement(x.a,{style:z.container},a.createElement(P.a,{style:z.title},"This screen doesn't exist."),a.createElement(R.a,{onPress:function(){return t.replace("Root")},style:z.link},a.createElement(P.a,{style:z.linkText},"Go to home screen!")))}var z=k.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),B=n(337),A={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},V=n(18),D=n.n(V),L=n(15),W=n.n(L);function U(e,t){var n=e.light;return n||A.light[t]}function M(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=W()(e,["style","lightColor","darkColor"]),c=U({light:n,dark:r},"text");return a.createElement(P.a,D()({style:[{color:c},t]},o))}function _(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=W()(e,["style","lightColor","darkColor"]),c=U({light:n,dark:r},"background");return a.createElement(x.a,D()({style:[{backgroundColor:c},t]},o))}var F=n(227),J=n.n(F),q=n(152),G=n(40),K=n(339);function H(){var e=J.a.create({baseURL:"https://houe-plastic-recycling.azurewebsites.net/api",headers:{"access-token":sessionStorage.getItem("accessToken")}}),t=a.useState(!1),n=u()(t,2),r=n[0],o=n[1],c=a.useState(!1),i=u()(c,2),l=i[0],s=i[1],f=a.useState(!1),m=u()(f,2),p=m[0],g=m[1],d=function(){g(!1),x("")},b=a.useState([]),h=u()(b,2),y=h[0],E=h[1];a.useEffect((function(){o(!0),e.get("/UserAppRoles").then((function(e){E(e.data)})).finally((function(){return o(!1)}))}),[]);var v=a.useState(""),S=u()(v,2),k=S[0],x=S[1];return a.createElement(_,{style:Q.container},l?a.createElement(q.a,null):a.createElement(G.a,{value:k,onChangeText:x,style:Q.textInput}),a.createElement(_,{style:Q.buttonContainer},r?a.createElement(q.a,null):y.map((function(t){return a.createElement(_,{key:t.id,style:Q.button},a.createElement(w.a,{title:t.displayName,onPress:function(){e.post("/InviteExternalUser",{email:k,appRoleId:t.id}).then((function(){return g(!0)})).finally((function(){return s(!1)})),x(""),s(!0)},disabled:""===k}))}))),a.createElement(K.a,{visible:p,onDismiss:d,action:{label:"OK",onPress:d}},"Brugeren er inviteret til MyTrash"))}var Q=k.a.create({textInput:{height:30,marginBottom:10,width:"80%",textAlign:"center",backgroundColor:"lightgrey"},container:{justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},buttonContainer:{flexDirection:"row"},button:{margin:5}});function X(){return a.createElement(_,{style:Y.container},a.createElement(H,null))}var Y=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}});function Z(){return a.createElement(_,{style:$.container},a.createElement(M,{style:$.title},"Not implemented yet"))}var $=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ee(){return a.createElement(_,{style:te.container},a.createElement(M,{style:te.title},"Not implemented yet"))}var te=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ne(){return a.createElement(_,{style:re.container},a.createElement(M,{style:re.title},"Not implemented yet"))}var re=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ae(){return a.createElement(_,{style:oe.container},a.createElement(M,{style:oe.title},"Not implemented yet"))}var oe=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});function ce(){return a.createElement(_,{style:ie.container},a.createElement(M,{style:ie.title},"Not implemented yet"))}var ie=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),le=Object(B.a)(),se=function(){return o.a.createElement(le.Navigator,{initialRouteName:"Administration",tabBarOptions:{activeTintColor:A.light.tint}},o.a.createElement(le.Screen,{name:"Administration",component:X,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Indsamlingsadministration",component:Z,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Indsamling",component:ee,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Logistik",component:ne,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Modtagelse",component:ce,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}),o.a.createElement(le.Screen,{name:"Produktion",component:ae,options:{tabBarIcon:function(e){var t=e.color;return o.a.createElement(ue,{name:"ios-code",color:t})}}}))};function ue(e){var t=e.name,n=e.color;return o.a.createElement(p.a,{size:30,style:{marginBottom:-3},name:t,color:n})}var fe={prefixes:[n(131).a("/")],config:{screens:{Login:"login",Root:{screens:{TabOne:{screens:{TabOneScreen:"one"}},TabTwo:{screens:{TabTwoScreen:"two"}}}},NotFound:"*"}}};function me(e){var t=e.colorScheme;return a.createElement(y.a,{linking:fe,theme:"dark"===t?E.a:v.a},a.createElement(ge,null))}var pe=Object(S.a)();function ge(){return a.createElement(pe.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"Login"},a.createElement(pe.Screen,{name:"Login",component:T}),a.createElement(pe.Screen,{name:"Root",component:se}),a.createElement(pe.Screen,{name:"NotFound",component:N,options:{title:"Oops!"}}))}function de(){return function(){var e=a.useState(!1),t=u()(e,2),r=t[0],o=t[1];return a.useEffect((function(){m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.b(),e.next=4,m.a.awrap(g.b(h(h({},p.a.font),{},{"space-mono":n(273)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),d.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}()?o.a.createElement(c.b,null,o.a.createElement(me,{colorScheme:"light"}),o.a.createElement(r.a,null)):null}},247:function(e,t,n){e.exports=n(328)},273:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[247,1,2]]]);
//# sourceMappingURL=app.beee0565.chunk.js.map